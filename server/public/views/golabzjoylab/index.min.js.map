{"version":3,"sources":["index.js"],"names":["app","$","document","ready","mainView","MainView","User","Backbone","Model","extend","idAttribute","url","Session","View","el","events","hadJoyActivity","roughLabStartDate","isSocketInitialized","ledsSetObj","timeForLab","timeInLab","timeLeftInLab","wasTimeSetFromUpdate","updateLoopInterval","getLedsSetObj","JSON","parse","stringify","setLedsFromLightValues","lightValues","evtType","previousTouchState","point","myJoyStick","getXyFromLightValues","metaData","clientTime","Date","getTime","layerX","x","layerY","y","touchState","myJoyStickObj","radius","angle","topValue","rightValue","bottomValue","leftValue","setLedsFromObjectAndSendToServer","lastSetLedsFromEventDate","setLedsFromEventInterval","setLedsFromEvent","evt","newDate","clientX","clientY","className","target","from","setLightValuesFromXY","userSocketClient","ledsSet","alreadyKicked","kickUser","err","clearInterval","location","href","setTimeLeftInLabLabel","timeLeft","dt","isReal","labelMsg","bpu","get","timeLeftSec","Math","round","setTimeout","label","$el","find","innerHTML","initialize","window","dispatchEvent","Event","this","user","unescape","html","session","bpuExp","attributes","exp_eventsToRun","sort","objA","objB","time","console","log","socketOptions","timeoutInterval","connectionInfo","userID","id","username","sessionObjID","sessionID","liveBpuExperimentID","socketID","socketHandle","setConnection","setLedsObj","startUpdateBpus","myLightsObj","build","dat","doesExist","toggleJoystick","setupMouseEvents","setupKeyboardEvents","startUpdateLoop","frameTime","lastFrameTime","deltaFrame","timerActivatedJoystick","setInterval","canvas","update","cb_fn","Canvas_Joystick","myLights","top","right","bottom","left","data","style","backgroundColor","zeroLeds","lastMouseMoveTime","setLedsEventController","myJoyKeys","updateTime","deltaValue","areKeysRunning","runKeys","me","loop","keys","space","isDown","value","pairName","name","key","code","isMaster","addEventListener","event","Object","forEach","item","keyCode","joystickCanvas","resize","clientWidth","clientHeight"],"mappings":"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","file":"index.min.js"}