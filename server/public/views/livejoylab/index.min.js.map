{"version":3,"sources":["index.js"],"names":["app","$","document","ready","mainView","MainView","User","Backbone","Model","extend","idAttribute","url","View","el","events","hadJoyActivity","roughLabStartDate","isSocketInitialized","ledsSetObj","timeForLab","timeInLab","timeLeftInLab","wasTimeSetFromUpdate","updateLoopInterval","getLedsSetObj","JSON","parse","stringify","setLedsFromLightValues","lightValues","evtType","previousTouchState","point","myJoyStick","getXyFromLightValues","metaData","clientTime","Date","getTime","layerX","x","layerY","y","touchState","myJoyStickObj","radius","angle","topValue","rightValue","bottomValue","leftValue","setLedsFromObjectAndSendToServer","lastSetLedsFromEventDate","setLedsFromEventInterval","setLedsFromEvent","evt","newDate","clientX","clientY","className","target","from","setLightValuesFromXY","userSocketClient","ledsSet","alreadyKicked","kickUser","err","console","log","clearInterval","location","href","setTimeLeftInLabLabel","timeLeft","dt","isReal","labelMsg","bpu","get","timeLeftSec","Math","round","setTimeout","label","$el","find","innerHTML","initialize","window","dispatchEvent","Event","this","user","unescape","html","bpuExp","attributes","exp_eventsToRun","sort","objA","objB","time","socketOptions","timeoutInterval","username","userID","bpuID","sessionID","liveBpuExperimentID","id","setConnection","setLedsObj","startUpdateBpus","myLightsObj","build","dat","doesExist","toggleJoystick","setupMouseEvents","setupKeyboardEvents","startUpdateLoop","frameTime","lastFrameTime","deltaFrame","timerActivatedJoystick","setInterval","canvas","update","cb_fn","Canvas_Joystick","myLights","top","right","bottom","left","data","style","backgroundColor","zeroLeds","lastMouseMoveTime","setLedsEventController","myJoyKeys","updateTime","deltaValue","areKeysRunning","runKeys","me","loop","keys","space","isDown","value","pairName","name","key","code","isMaster","addEventListener","event","Object","forEach","item","keyCode","joystickCanvas","resize","clientWidth","clientHeight"],"mappings":"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","file":"index.min.js"}