var filename="(admin/bpus/admin_bpus-client.js)",handle="/admin_bpus",doPrintErr=!0,doPrintInit=!0,doPrint=!0,myPrint=function(a,b,c,d){null!==d&&void 0!==d&&doPrintErr?console.log("ERROR	"+filename+":"+a,d):null!==c&&void 0!==c&&doPrintInit?console.log("INIT	"+filename+":"+a,c):doPrint&&console.log(filename+":"+a,b)};!function(){"use strict";app=app||{};var a={};a.options=null,a.mySocket=null,a.lastPing=new Date,a.connectionInfo=null,a.didConnectionTimeout=!1,app.socketClient=a,a.setConnection=function(c,d){myPrint("setConnection",null,"initializing socket",null),a.options=c,a.didConnectionTimeout=!1;var e=!1,f=setTimeout(function(){e||(e=!0,myPrint("setConnection",null,"resTimeout",null),a.didConnectionTimeout=!0,d("timed out",null))},a.options.timeoutInterval);a.mySocket=io.connect(),a.mySocket.on("connect",function(){myPrint("setConnection connect",null,"setting connection",null),a.connectionInfo={bpuName:a.options.bpuName,socketID:a.mySocket.id};var c=handle+"/#setConnection",g=c+"Res",h=function(c){e||(clearTimeout(f),e=!0,myPrint("setConnection connect",null,"setting connection complete",null),a.mySocket.removeListener(g,h),b(),d(null,c))};a.mySocket.on(g,h),a.mySocket.emit(c,a.connectionInfo)})};var b=function(){myPrint("_startPing",null,"starting",null),a.mySocket.on(handle+"/#ping",function(){myPrint(handle,"ping",null,null);new Date-app.mainView.lastPing;a.lastPing=new Date,a.mySocket.emit(handle+"/#pingRes")})};a.flushBpu=function(b,c){myPrint("flushBpu","emit",null,null),console.log(b);var d=handle+"/#flush",e=d+"Res",f=function(b){console.log(b),myPrint("flushBpu","resFunc",null,null),a.mySocket.removeListener(e,f),c(null,b)};a.mySocket.on(e,f),a.mySocket.emit(d,b)},a.refreshGraphData=function(b,c){myPrint("refreshGraphData","emit",null,null);var d=handle+"/#refreshGraphData",e=d+"Res",f=function(b){myPrint("refreshGraphData","resFunc",null,null),a.mySocket.removeListener(e,f),c(null,b)};a.mySocket.on(e,f),a.mySocket.emit(d,b)},a.startUpdateBpus=function(b){myPrint("startUpdateBpus","no msg");var c=function(a){var c={};c.bpuStatus=a.bpuInfo.bpuStatus,c.username=a.bpuExpInfo.username,c.runTime=a.bpuExpInfo.runTime,c.timeLeft=a.bpuExpInfo.timeLeft,c.processingTimePerExperiment=a.bpuInfo.overheadPerExp,b(c)};a.mySocket.on("/updateBpus",function(b){myPrint(handle,"updateBpus length:"+b.bpus.length);var d=!1;b&&b.bpus&&b.bpus.forEach&&b.bpus.forEach(function(b){d||a.connectionInfo.bpuName!==b.bpuInfo.name||(d=!0,c(b))})})}}();
//# sourceMappingURL=admin_bpu-client.min.js.map