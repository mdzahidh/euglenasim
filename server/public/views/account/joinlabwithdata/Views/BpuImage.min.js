!function(){"use strict";app=app||{},app.BpuImageView=Backbone.View.extend({el:"#bpuimage",template:_.template($("#tmpl-bpuimage").html()),events:{"click .btn-joinLiveBpu":"btnClick_joinLiveBpu","click .btn-submitTextBpu":"btnClick_submitTextBpu"},btnClick_joinLiveBpu:function(a){var b="eug"+a.target.value;app.mainView.submitExperimentFromViews("live",b,function(a){a?console.log("btnClick_joinLiveBpu live submission err:"+a):console.log("btnClick_joinLiveBpu live submission okay")})},btnClick_submitTextBpu:function(a){var b="eug"+a.target.value;app.mainView.submitExperimentFromViews("text",b,function(a){a?console.log("btnClick_joinLiveBpu text submission err:"+a):console.log("btnClick_joinLiveBpu text submission okay")})},disablePrintOn:!1,disableAll:function(a,b){var c=this;c.disablePrintOn&&console.log("disableAll",a,b),app.mainView.bpus.forEach(function(d){c.disableLiveButton(d.index,a,b+"+disableAll"),c.disableTextButton(d.index,a,b+"+disableAll")})},disableLiveButton:function(a,b,c){var d=this;d.disablePrintOn&&console.log("disableLiveButton",a,b,c);var e=d.$el.find('[name="bpuJoinLiveButton'+a+'"]')[0];e&&(e.disabled=b)},disableTextButton:function(a,b,c){var d=this;d.disablePrintOn&&console.log("disableTextButton",a,b,c);var e=d.$el.find('[name="bpuSubmitTextButton'+a+'"]')[0];e&&(e.disabled=b)},setTitleLabel:function(a,b){var c=app.bpuImageView.$el.find('[name="BpuTitleLabel'+a+'"]')[0];c&&(c.innerHTML=b)},setUserLabel:function(a,b){var c=app.bpuImageView.$el.find('[name="BpuUserLabel'+a+'"]')[0];c&&(c.innerHTML=b)},setStatusLabel:function(a,b){var c=app.bpuImageView.$el.find('[name="BpuStatusLabel'+a+'"]')[0];c&&(c.innerHTML=b)},initialize:function(){this.model=new app.Record,this.listenTo(this.model,"change",this.render),this.render()},render:function(){var a=this;a.$el.html(a.template(a.model.attributes))},updateOneBpuUI:function(a,b,c,d){var e=a.name+": Wait is "+app.mainView.roundMsToMins(a.timeToFinish)+" minutes.";app.bpuImageView.setTitleLabel(a.index,e);"Status: "+a.bpuStatus;if(app.bpuImageView.setStatusLabel(a.index,e),app.bpuImageView.disableLiveButton(a.index,c),null!==b){var f=b.username+" has "+app.mainView.roundMsToSeconds(b.timeLeft)+" seconds left.";app.bpuImageView.setUserLabel(a.index,f)}else app.bpuImageView.setUserLabel(a.index,"No User.")}})}();
//# sourceMappingURL=BpuImage.min.js.map