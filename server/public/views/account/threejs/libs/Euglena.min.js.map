{"version":3,"sources":["Euglena.js"],"names":["Euglena","size","position","rotation","dynamics","inertialAxes","addFace","name","g","a","b","c","d","norm","color","iMatA","iMatD","face","THREE","Face3","faces","push","Mesh","call","this","degToRads","Math","PI","radToDegs","initLength","x","initWidth","y","initHeight","z","localAxes","AxisHelper","set","add","length","width","height","geometry","Geometry","vertices","Vector3","applyMatrix","Matrix4","makeTranslation","opacity","materials","MeshBasicMaterial","side","DoubleSide","transparent","material","MeshFaceMaterial","Color","setRotation","surge","roll","pitch","yaw","hasRoll","hasYaw","updateCounter","caseselect","prototype","Object","create","setTest","parameters","turnQs","rollFrames","rollPerFrame","deltaRollAngle","rollCounter","q","Quaternion","v","sin","cos","setFromAxisAngle","turnPerFrame","frame","rollQ","sort","masterQ","i","multiplyQuaternions","quaternion","updateMatrixWorld","setSize","scale","setPosition","Number","setDynamics","coupling","vector","value","frames","rollCorrectionVectors","originalRollValue","allowedRolls","abs","updateCounter2","runDatas","update","leftIntensity","rightIntensity","topIntensity","bottomIntensity","runData","case","posyFace","negyFace","light","left","right","top","bottom","vX","applyQuaternion","atan2","xValue","vY","leftAngle","angleTo","leftValue","rightAngle","rightValue","topAngle","topValue","bottomAngle","bottomValue","yawMod","translateOnAxis","updateMatrix"],"mappings":"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","file":"Euglena.min.js"}