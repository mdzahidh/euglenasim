{"version":3,"sources":["index.js"],"names":["app","$","document","ready","mainView","MainView","User","Backbone","Model","extend","idAttribute","url","Session","View","el","events","hadJoyActivity","roughLabStartDate","isSocketInitialized","ledsSetObj","timeForLab","timeInLab","timeLeftInLab","wasTimeSetFromUpdate","updateLoopInterval","getLedsSetObj","JSON","parse","stringify","setLedsFromLightValues","lightValues","evtType","previousTouchState","point","myJoyStick","getXyFromLightValues","metaData","clientTime","Date","getTime","layerX","x","layerY","y","touchState","myJoyStickObj","radius","angle","topValue","rightValue","bottomValue","leftValue","setLedsFromObjectAndSendToServer","lastSetLedsFromEventDate","setLedsFromEventInterval","setLedsFromEvent","evt","clientX","clientY","className","target","from","setLightValuesFromXY","myLightsObj","update","newDate","userSocketClient","ledsSet","alreadyKicked","kickUser","err","console","log","clearInterval","location","href","setTimeLeftInLabLabel","timeLeft","dt","isReal","labelMsg","bpu","get","timeLeftSec","Math","round","setTimeout","label","$el","find","innerHTML","initialize","window","dispatchEvent","Event","this","user","unescape","html","session","bpuExp","attributes","exp_eventsToRun","sort","objA","objB","time","setConnection","setLedsObj","build","dat","doesExist","toggleJoystick","setupMouseEvents","setupKeyboardEvents","startUpdateLoop","frameTime","lastFrameTime","deltaFrame","timerActivatedJoystick","setInterval","canvas","cb_fn","Canvas_Joystick","myLights","top","right","bottom","left","data","style","backgroundColor","zeroLeds","lastMouseMoveTime","setLedsEventController","myJoyKeys","updateTime","deltaValue","areKeysRunning","runKeys","me","loop","keys","space","isDown","value","pairName","name","key","code","isMaster","addEventListener","event","Object","forEach","item","keyCode","joystickCanvas","resize","clientWidth","clientHeight"],"mappings":"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","file":"index.min.js"}