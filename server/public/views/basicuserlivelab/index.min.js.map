{"version":3,"sources":["index.js"],"names":["app","$","document","ready","mainView","MainView","User","Backbone","Model","extend","idAttribute","url","Session","View","el","events","hadJoyActivity","roughLabStartDate","isSocketInitialized","ledsSetObj","timeForLab","timeInLab","timeLeftInLab","wasTimeSetFromUpdate","updateLoopInterval","getLedsSetObj","JSON","parse","stringify","setLedsFromLightValues","lightValues","evtType","previousTouchState","point","myJoyStick","getXyFromLightValues","metaData","clientTime","Date","getTime","layerX","x","layerY","y","touchState","myJoyStickObj","radius","angle","topValue","rightValue","bottomValue","leftValue","setLedsFromObjectAndSendToServer","lastSetLedsFromEventDate","setLedsFromEventInterval","setLedsFromEvent","evt","clientX","clientY","className","target","from","setLightValuesFromXY","myLightsObj","update","newDate","userSocketClient","ledsSet","alreadyKicked","kickUser","err","console","log","clearInterval","location","href","setTimeLeftInLabLabel","timeLeft","dt","isReal","labelMsg","bpu","get","timeLeftSec","Math","round","setTimeout","label","$el","find","innerHTML","initialize","window","dispatchEvent","Event","this","session","unescape","html","bpuExp","attributes","exp_eventsToRun","sort","objA","objB","time","setConnection","setLedsObj","build","dat","doesExist","toggleJoystick","setupMouseEvents","setupKeyboardEvents","startUpdateLoop","frameTime","lastFrameTime","deltaFrame","timerActivatedJoystick","setInterval","canvas","cb_fn","Canvas_Joystick","myLights","top","right","bottom","left","data","style","backgroundColor","zeroLeds","lastMouseMoveTime","setLedsEventController","myJoyKeys","updateTime","deltaValue","areKeysRunning","runKeys","me","loop","keys","space","isDown","value","pairName","name","key","code","isMaster","addEventListener","event","Object","forEach","item","keyCode","joystickCanvas","resize","clientWidth","clientHeight"],"mappings":"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","file":"index.min.js"}